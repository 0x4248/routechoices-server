{% extends "base.html" %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static '/vendor/bootstrap-datetime-picker-4.17.47/bootstrap-datetimepicker.min.css' %}"/>
<style>
@media screen and (max-width: 767px) {
  .row-offcanvas {
    position: relative;
    -webkit-transition: all .25s ease-out;
         -o-transition: all .25s ease-out;
            transition: all .25s ease-out;
  }

  .row-offcanvas-left {
    left: 0;
  }

  .row-offcanvas-left
  .sidebar-offcanvas {
    left: -50%; /* 6 columns */
  }

  .row-offcanvas-left.active {
    left: 50%; /* 6 columns */
  }

  .sidebar-offcanvas {
    position: absolute;
    top: 0;
    width: 50%; /* 6 columns */
  }
}
</style>
{% endblock %}

{% block content %}
  <div class="row row-offcanvas row-offcanvas-left">
    <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar">
      <div class="list-group">
        <a href="{% url 'dashboard:account_edit_view' %}" class="list-group-item {% if request.resolver_match.view_name == 'dashboard:account_edit_view' %}active{% endif %}">Account</a>
        <a href="{% url 'dashboard:device_list_view' %}" class="list-group-item {% if request.resolver_match.view_name == 'dashboard:device_list_view' %}active{% endif %}">Devices</a>
        <a href="{% url 'dashboard:club_list_view' %}" class="list-group-item {% if request.resolver_match.view_name == 'dashboard:club_list_view' %}active{% endif %}">Clubs</a>
        <a href="{% url 'dashboard:map_list_view' %}" class="list-group-item {% if request.resolver_match.view_name == 'dashboard:map_list_view' %}active{% endif %}">Maps</a>
        <a href="{% url 'dashboard:event_list_view' %}" class="list-group-item {% if request.resolver_match.view_name == 'dashboard:event_list_view' %}active{% endif %}">Events</a>
      </div>
    </div><!--/.sidebar-offcanvas-->
    <div class="col-xs-12 col-sm-9">
      <div class="row">
        <div class="col-xs-12 col-sm-9">
          <p class="pull-left visible-xs">
            <button type="button" class="btn btn-default btn-xs" data-toggle="offcanvas"><i class="fa fa-bars"></i></button>
          </p>
        </div>
        <div class="col-xs-12 col-sm-9">
          {% block sub_content %}
          <div class="jumbotron">
            <h3>Welcome to your dashboard.</h3>
          </div>
        {% endblock %}
        </div>
      </div><!--/.col-xs-12.col-sm-9-->
    </div>
  </div><!--/row-->
{% endblock %}

{% block extra_body %}
<script src="{% static '/vendor/moment-2.24.0/moment.js' %}"></script>
<script src="{% static '/vendor/bootstrap-datetime-picker-4.17.47/bootstrap-datetimepicker.min.js' %}"></script>
<script type="text/javascript">
  $(function () {
    var offset = moment().utcOffset();
    var offsetText = (offset > 0 ? '+' : '-') +
        ('0' + Math.floor(Math.abs(offset / 60))).slice(-2) + ':' +
        ('0' + Math.round(offset % 60)).slice(-2);
    $('.utc-offset').text('(UTC Offset ' + offsetText + ')');
    $('.datetimepicker').map(function(i, el) {
      var options = {
          useCurrent: false,
          format: 'YYYY-MM-DD HH:mm:ss'
      }
      $el = $(el);
      if($el.val()) {
        options.date = moment($el.val());
      }
      $el.datetimepicker(options);
    })
  });
</script>
<script>
$(document).ready(function () {
  $('[data-toggle="offcanvas"]').click(function () {
    $('.row-offcanvas').toggleClass('active')
  });
});
</script>
{% endblock %}